<div [ngClass]="{'componente-completo': procesados.length > 0, 'componente-solo-selector': procesados.length === 0}">
    <p-selectButton class="botonNuevoHistorial"
    [options]="SelectButtonOptions" 
    [(ngModel)]="valueSelected" 
    optionLabel="label"
    optionValue="value"
    [allowEmpty]=false
    *ngIf="procesados.length>0">
    </p-selectButton>
    <div class="anchoAltoSelector" *ngIf="valueSelected==='new'"> 
        <app-selector-imagenes 
            *ngIf="valueSelected==='new'"
            (archivoSeleccionadoChange)="recibirFile($event, id_expositor_selected)"
            [cargando_procesado]="cargando_procesamiento">
        </app-selector-imagenes>
    </div>
    <div *ngIf="valueSelected==='historial'">
        <div class="gridHistorial">
            <div>
                <div *ngFor="let item of getElementosPaginados()" class="imagenProcesada">
                    <div class="anchoAltoImagenDialog">
                        <app-dialog-informacion-procesado [procesado]="item"></app-dialog-informacion-procesado>
                        <p-toast></p-toast>
                        <p-confirmDialog></p-confirmDialog> 
                        <p-image [src]="url_imagenes_procesadas + item.imagenes.url" alt="Vista previa de la imagen seleccionada" [preview]="true" class="p-image"></p-image>
                    </div>
                    <div class="respuestaProcesado">
                        <div class="contenido">
                            <span class="margenesComentario"><strong>Comentarios:</strong> {{this.item.comentarios}}</span>
                            <div class="promptBotones">
                                <span class="margenesPrompt"><strong>Prompt utilizado:</strong></span>
                                <div>
                                    <p-button label="{{this.item.prompts.nombre_prompt}}" (click)="showDialog()" [text]="true" severity="danger" [style]="{'padding': '0', 'margin-top': '2.5%'}"></p-button>
                                    <p-dialog [header]='item.prompts.nombre_prompt' [(visible)]="visiblePrompt" [style]="{width: '50vw'}">
                                        <p>
                                            {{item.prompts.texto_prompt}}
                                        </p>
                                    </p-dialog>
                                </div>
                                <div class="valoracionBorrar">
                                    <p-button [icon]="inicializa_likeButon(item)" (click)="funcionFeedback(item, true)"  [text]="true" severity="danger"></p-button>
                                    <p-button [icon]="inicializa_dislikeButon(item)" (click)="funcionFeedback(item, false)" [text]="true" severity="danger"></p-button>
                                    <p-button icon="pi pi-trash" (click)="confirmarDelete($event, item)" [rounded]="true" [text]="true" severity="danger" [style]="{'padding': '0'}"></p-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <p-paginator 
                [style]="{'background-color': 'rgba(232, 232, 232, 0.9)', 'width': '100%', 'height': '100%'}"
                [rows]="items_per_page" 
                [totalRecords]="procesados.length" 
                [first]="indice_paginador" 
                (onPageChange)="onPageChange($event)"
                [hidden]="procesados.length === 0"
                [showJumpToPageDropdown]="true" 
                [showPageLinks]="false">
            </p-paginator>
        </div>
    </div>
</div>
