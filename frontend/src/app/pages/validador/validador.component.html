<div class="paginaCompleta">
  <app-barra-menu [tiendaTitle]="sfid"></app-barra-menu>
  <p-toast></p-toast>
  <div *ngFor="let item of this.tienda.muebles" class="contornoPanel">
    <p-panel [style]="{'border': '1px solid black', 'margin-bottom': '20px'}">
      <ng-template pTemplate="header">
        <div class="custom-header">
          Elemento/mueble {{item.nombre_mueble !== undefined ? ' - ' + item.nombre_mueble : item.id_mueble}}
          <p-progressSpinner *ngIf="cargas_procesamiento[item.expositores[0].id_expositor]" 
            class="spinner" strokeWidth="6" fill="var(--surface-ground)" animationDuration=".6s"
            [style]="{'width': '30px', 'height': '30px'}"></p-progressSpinner>
        </div>
      </ng-template>
        <div class="panelCompleto">
          <div class="panelIzquierda" >
            <div *ngIf="item.expositores.length == 1 else dosFotos" class="anchoAltoFotoReferencia" >
              <div>
                <p-image [src]="url_imagenes_referencias + item.expositores[0].imagenes.url" [alt]="item.expositores[0].imagenes.url" class="imagenSimple" [width]="'100%'" [height]="'100%'" [preview]="true"></p-image>
              </div>
            </div>
            <ng-template #dosFotos>
              <div class="grid anchoAltoFotoReferencia">
                <div style="margin-right: 5px;">
                  <img [src]="url_imagenes_referencias + item.expositores[0].imagenes.url" [alt]="item.expositores[0].imagenes.url" class="imagenDoble">
                </div>
                <div class="col-6">
                  <img [src]="url_imagenes_referencias + item.expositores[1].imagenes.url" [alt]="item.expositores[1].imagenes.url" class="imagenDoble">
                </div>
              </div>
            </ng-template> 
          </div>
          <div class="panelDerecha">
            <div *ngIf="item.expositores.length == 1 else subir2Fotos" class="anchoAltoSubirFoto">              
              <app-paginador-procesamiento-subida  
                class="anchoAltoPaginador"
                [id_expositor_selected]="item.expositores[0].id_expositor"
                [procesados]="item.expositores[0].procesados_imagenes" 
                [cargando_procesamiento]="cargas_procesamiento[item.expositores[0].id_expositor]"
                [valueSelected]="modos_visualizacion[item.expositores[0].id_expositor] === 'historial'? 'historial':'new'"
                (archivoSeleccionadoChange)="recibirFile($event, item.expositores[0].id_expositor)">
              </app-paginador-procesamiento-subida>            
            </div>
            <ng-template #subir2Fotos>
              <div class="gridDoble">
                <app-paginador-procesamiento-subida
                  [id_expositor_selected]="item.expositores[0].id_expositor"
                  [procesados]="item.expositores[0].procesados_imagenes" 
                  [cargando_procesamiento]="cargas_procesamiento[item.expositores[0].id_expositor]"
                  [valueSelected]="modos_visualizacion[item.expositores[0].id_expositor] === 'historial'? 'historial':'new'"
                  (archivoSeleccionadoChange)="recibirFile($event, item.expositores[0].id_expositor)">
                </app-paginador-procesamiento-subida> 
                <app-paginador-procesamiento-subida
                  [id_expositor_selected]="item.expositores[1].id_expositor"
                  [procesados]="item.expositores[1].procesados_imagenes" 
                  [cargando_procesamiento]="cargas_procesamiento[item.expositores[1].id_expositor]"
                  [valueSelected]="modos_visualizacion[item.expositores[1].id_expositor] === 'historial'? 'historial':'new'"                
                  (archivoSeleccionadoChange)="recibirFile($event, item.expositores[1].id_expositor)">
                </app-paginador-procesamiento-subida>                    
              </div>
            </ng-template> 
          </div>
        </div>
    </p-panel>
  </div>
</div>