

  <form [formGroup]="formulario" (ngSubmit)="onSubmit()">

    <div class="flex flex-column" *ngIf="!showing_expositores">
     
        <div class="flex align-items-center justify-content-center mt-2 fadein animation-duration-1000">
          <p-card [style]="{'width':'100vh'}" header="Nombre*">
            <!-- <span class="p-float-label"> -->
              <input type="text" formControlName="nombre_mueble" pInputText class="w-full">
              <!-- <label >Nombre * </label>
            </span> -->
            <small *ngIf="nombre_mueble.invalid && (nombre_mueble.dirty || nombre_mueble.touched)" class="block p-error">
              <div *ngIf="nombre_mueble.errors?.['required']">El nombre es obligatorio.</div>
              <!-- <div *ngIf="nombre_mueble.errors?.['maxlength']">El nombre debe tener como máximo 50 caracteres.</div> -->
            </small>
        </p-card>
        </div>
  

      <div class="flex align-items-center justify-content-center mt-2 fadein animation-duration-1000">
        <p-card [style]="{'width':'100vh'}" header="Categoría*">
          <!-- <span class="p-float-label"> -->
            <p-dropdown formControlName="categoria" [options]="categorias_opciones"  class="w-full" placeholder="Selecciona una categoria"></p-dropdown>
            <!-- <label >Categoría *</label>
          </span> -->

          <small *ngIf="categoria.invalid && (categoria.dirty || categoria.touched)" class="block p-error">
            <div *ngIf="categoria.errors?.['required']">La categoría es obligatoria.</div>
          </small>
        </p-card>
          
      </div>

      <div class="flex align-items-center justify-content-center mt-2 fadein animation-duration-1000" *ngIf ="categoria.value === 'dispositivos'" >
        <p-card [style]="{'width':'100vh'}" header="Nº de dispositivos esperados">
          <!-- <span class="p-float-label"> -->
            <p-inputNumber 
              inputId="num_dispositivos"
              class="block"
              formControlName="numero_dispositivos"
              [min]="0"
              [showButtons]="true"
              decrementButtonClass="p-button-danger p-button-outlined"
              incrementButtonClass="p-button-danger p-button-outlined"
            >
            </p-inputNumber>
            <!-- <label htmlFor="num_dispositivos" class = "text-xs  text-600 mb-2  ">Nº dispositivos esperados*</label>
          </span> -->
      </p-card>

     </div>

     <div class="flex align-items-center justify-content-center mt-2 fadein animation-duration-1000" >
      <p-card [style]="{'width':'100vh'}" header="Expositores">
          <!-- <div class="mt-2">
          <label class = "text-xs text-600 mb-2  ">Expositores </label>
          </div> -->
    
          <div class="inline-flex mt-2">
            <div *ngFor="let expositor of expositores.value" class="inline mx-2">
              <p-image class ="imagenSimple" [src]="url_imagenes_referencias + expositor.imagenes.url"  height="100vh"  [alt]="expositor.imagenes.url"  [preview]="true"></p-image>
            </div>
          </div>
          <div class="mt-2 ">
          <p-button severity="danger" [text]="true" [raised]="true" (onClick)="showExpositores()" [label]=" expositores.value.length > 0 ? 'Cambiar expositores' : 'Añadir expositores'" ></p-button>
          </div>
      </p-card>
     </div>
     
     <div class="flex align-items-center justify-content-center mt-2 fadein animation-duration-1000" >
      <p-button [disabled]="!formulario.valid" severity="danger" type="submit" label="Guardar"></p-button>
    </div>

  </div>

  <div *ngIf="showing_expositores">
    <div *ngIf ="all_expositores.length==0">
      <p-progressSpinner></p-progressSpinner>
    </div>
  </div>

</form>
 
